{% extends "base.html.twig" %}


{% block content %}
    <body>

        <div class="container">
            <h1>SHARE <br> YOUR GIF</h1>
            <p>
                <form method="post">
                    <input type="text" class="text" name="cerca" placeholder="meme"><br>
                    <input type="submit" class="submit" name="invio" value="Search on GIPHY">
                </form>
            </p>
            
            {% for d in dati %}
            
            {% block js %}
                <script>

                    function copyToClipboard(text) {
                        var sampleTextarea = document.createElement("textarea");
                        document.body.appendChild(sampleTextarea);
                        sampleTextarea.value = text; //save main text in it
                        sampleTextarea.select(); //select textarea contenrs
                        document.execCommand("copy");
                        document.body.removeChild(sampleTextarea);
                    }

                    function iframe(width, height, src, title){
                        let iframe = `<iframe width='${width}' height='${height}' src='${src}' title='${title}' frameborder='0' allowfullscreen></iframe>`;
                    }

                    function myFunction(url){
                        copyToClipboard(url);
                    }
                </script>
            {% endblock %}

            <div class="gifComponent" style="background-image: url({{ d.url }})">
                <div class="top">
                    <h4 class="author">
                        {{ d.title }}
                    </h4>    
                    
                    <h5 class="username">
                        uploaded by {% if d.username %} {{ d.username }} {% else %} unknown {% endif %}
                    </h5>
        
                    
                    <h7 class="date">
                        on {{ d.date }}
                    </h7>
                </div>
                <div class="bottom">
                    <a onclick="myFunction('{{d.url}}')"><img src="static/img/icon1.png" class="icon"></a>
                    <a><img src="static/img/icon2.png" class="icon"></a> 

                </div>


            </div>
            
            {% endfor %}

            {% block pages %}
            <form method="post">
                {% for i in 1..10 %}

                    <input type="submit" class="pages-button" name="{{ i }}" value="{{ i }}">
                {% endfor %}
            </form>
            {% endblock %}
            
        </div>
    </body>
    
{% endblock %}